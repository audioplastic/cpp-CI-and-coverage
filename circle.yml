checkout:
  post:
    - git submodule sync
    - git submodule update --init

test:
  pre:
    - mkdir build
    - cd build && cmake .. -DBUILD_TESTS=ON -DCOVERALLS=OFF -DCMAKE_BUILD_TYPE=Debug
    - cd build && cmake --build .
  override:
    - build/test/all_tests